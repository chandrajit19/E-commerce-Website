import{g as i,u as C,t as P,p as g}from"./toast-DHBQ7sXq.js";const q=()=>{const t=i().reduce((c,a)=>c+a.totalPrice,0);document.querySelector(".productSubTotal").textContent=`₹${t}`,document.querySelector(".finalPrice").textContent=`₹${t+60}`},p=(o,t,c,a,u)=>{const d=JSON.parse(localStorage.getItem("products"))||[],e=u.find(n=>n.id===o);if(!e){console.error("Product not found!");return}const{stock:l,price:r}=e;if(t==="increment"&&e.quantity<l)e.quantity+=1;else if(t==="decrement"&&e.quantity>1)e.quantity-=1;else{console.warn("Invalid operation: Either stock exceeded or quantity is 1.");return}e.totalPrice=e.quantity*r,c.textContent=e.quantity,a.textContent=e.totalPrice;const s=d.map(n=>n.id===o?{id:n.id,totalPrice:e.totalPrice,quantity:e.quantity}:n);localStorage.setItem("products",JSON.stringify(s)),q()},f=(o,t)=>{const a=i().filter(d=>d.id!=Number(o));localStorage.setItem("products",JSON.stringify(a));const u=i();C(u.length),t.remove(),P("deleted",o)};let E=i();const m=E.map(o=>{const t=g.find(c=>c.id===o.id);return t?{...o,...t}:o}),S=document.querySelector("#productCartContainer"),x=document.querySelector("#productTemplateOfCart"),v=()=>{S.innerHTML="",m.forEach(o=>{const{id:t,category:c,image:a,name:u,stock:d,totalPrice:e,quantity:l}=o,r=document.importNode(x.content,!0);r.querySelector(".name").textContent=u,r.querySelector(".pro-price").textContent=e,r.querySelector(".cart-img").src=`${a}`,r.querySelector(".product-quantity").textContent=l,r.querySelector(".actualContainer").setAttribute("id",`${t}`);const s=r.querySelector(".actualContainer"),n=r.querySelector(".product-quantity"),y=r.querySelector(".pro-price");r.querySelector(".remove-me").addEventListener("click",()=>{f(t,s)}),r.querySelector(".increment").addEventListener("click",()=>{p(t,"increment",n,y,m)}),r.querySelector(".decrement").addEventListener("click",()=>{p(t,"decrement",n,y,m)}),S.append(r)})};v();q();
